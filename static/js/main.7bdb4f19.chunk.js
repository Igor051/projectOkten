(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{129:function(e,t,n){e.exports={message:"Message_message__34HtW"}},134:function(e,t){e.exports="data:image/png;base64,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"},135:function(e,t,n){e.exports={userPhoto:"Users_userPhoto__2MLDq"}},136:function(e,t,n){e.exports=n.p+"static/media/preloader.3773db1c.svg"},138:function(e,t,n){e.exports={image:"Post_image__1Q1eW"}},15:function(e,t,n){e.exports={nav:"Nav_nav__2M-rH",item:"Nav_item__3ZeKN",active:"Nav_active__1lTKs"}},165:function(e,t,n){e.exports=n(291)},167:function(e,t,n){},171:function(e,t,n){},291:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a);n(167),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=n(63),i=n.n(o),s=n(23),c=n(24),l=n(26),u=n(25),m=n(27),p=(n(171),n(15)),f=n.n(p),g=n(11);var d=function(){return r.a.createElement("nav",{className:f.a.nav},r.a.createElement("div",{className:f.a.item},r.a.createElement(g.b,{to:"/profile",activeClassName:f.a.active},"Profile")),r.a.createElement("div",{className:f.a.item},r.a.createElement(g.b,{to:"/dialogs",activeClassName:f.a.active},"Messages")),r.a.createElement("div",{className:f.a.item},r.a.createElement(g.b,{to:"/users",activeClassName:f.a.active},"Users")),r.a.createElement("div",{className:f.a.item},r.a.createElement(g.b,{to:"/news",activeClassName:f.a.active},"News")),r.a.createElement("div",{className:f.a.item},r.a.createElement(g.b,{to:"/music",activeClassName:f.a.active},"Music")),r.a.createElement("div",{className:f.a.item},r.a.createElement(g.b,{to:"/settings",activeClassName:f.a.active},"Settings")))},E=n(34),h=n(33),v=n(10),b={dialogs:[{id:1,name:"Igor",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSykVpXr9GJjfUAb9CfZOyKMfNSEJ4DTm_Sv8_xAHybonO_Gb9V"},{id:2,name:"Sasha",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRx5BHm-ymYeON0SJLFZrR5uV6jVmVyvwXnht_nEdGDN5etLNlH"},{id:3,name:"Petya",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRrb57x3F0FPNjMIf_B5_fedb8JH-WVH3w8pdD_u0X8Lkc1kd_V"},{id:4,name:"Maksym",img:"https://i.pinimg.com/236x/52/4e/91/524e910da5483d1dbb8a179c8c06e1de.jpg"}],messages:[{id:1,message:"Hi"},{id:2,message:"How are you ?"},{id:3,message:"I am fine"},{id:4,message:"YO"}]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":var n={id:5,message:t.newMessageBody};return Object(v.a)({},e,{messages:[].concat(Object(h.a)(e.messages),[n])});default:return e}},w=n(69),A=n.n(w),j=n(70),C=n.n(j);var S=function(e){var t="/dialogs/"+e.id;return r.a.createElement("div",{className:C.a.dialog+" "+C.a.active},r.a.createElement("img",{src:e.avatar,alt:"avatar",className:C.a.avatar}),r.a.createElement(g.b,{to:t},e.name))},I=n(129),k=n.n(I);var P=function(e){return r.a.createElement("div",{className:k.a.message},e.message)},N=n(125),y=n(126),M=n(53),T=n(49),U=n.n(T);function J(e){e.input;var t=e.meta,n=e.children,a=t.error&&t.touched;return r.a.createElement("div",{className:U.a.formControl+" "+(a?U.a.error:"")},r.a.createElement("div",null,n),a&&r.a.createElement("span",null,t.error))}function x(e){var t=e.input,n=(e.meta,e.children,Object(M.a)(e,["input","meta","children"]));return r.a.createElement(J,e,r.a.createElement("textarea",Object.assign({},t,n)))}function G(e){var t=e.input,n=(e.meta,e.children,Object(M.a)(e,["input","meta","children"]));return r.a.createElement(J,e,r.a.createElement("input",Object.assign({},t,n)))}var L=function(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return r.a.createElement("div",null,r.a.createElement(N.a,Object.assign({placeholder:e,name:t,component:n,validate:a},o)),r.a.createElement("span",null,i))},D=function(e){if(!e)return"Field is required"},R=function(e){return function(t){if(t.length>e)return"max length is ".concat(e," symbols")}},F=R(100);var z=Object(y.a)({form:"dialogAddMessageForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(N.a,{component:x,validate:[D,F],name:"newMessageBody",placeholder:"Write a message..."})),r.a.createElement("div",null,r.a.createElement("button",null,"Send")))}));var Y=function(e){var t=e.dialogsPage.dialogs.map((function(e){return r.a.createElement(S,{name:e.name,id:e.id,avatar:e.img,key:e.id})})),n=e.dialogsPage.messages.map((function(e){return r.a.createElement(P,{message:e.message,key:e.id})}));return e.isAuth?r.a.createElement("div",{className:A.a.dialogs},r.a.createElement("div",{className:A.a.dialogsItems},t),r.a.createElement("div",{className:A.a.messages},n,r.a.createElement(z,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}}))):r.a.createElement(E.a,{to:"/login"})},Z=n(9),_=function(e){return{isAuth:e.auth.isAuth}},B=function(e){var t=function(t){function n(){return Object(s.a)(this,n),Object(l.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,t),Object(c.a)(n,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(E.a,{to:"/login"})}}]),n}(r.a.Component);return Object(Z.b)(_)(t)},X=n(5),V=Object(X.d)(Object(Z.b)((function(e){return{dialogsPage:e.messagesPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:"ADD_MESSAGE",newMessageBody:e}}(t))}}})),B)(Y),W=n(8),K=n.n(W),H=n(18),Q=n(132).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"94d2bee9-4030-4d4e-a85a-00f673b6f3ac"}}),q={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return Q.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},unfollowUser:function(e){return Q.delete("follow/".concat(e)).then((function(e){return e.data.resultCode}))},followUser:function(e){return Q.post("follow/".concat(e)).then((function(e){return e.data.resultCode}))}},$=function(e){return Q.get("profile/".concat(e))},ee=function(e){return Q.get("profile/status/".concat(e))},te=function(e){return Q.put("profile/status",{status:e})},ne=function(){return Q.get("auth/me")},ae=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Q.post("auth/login",{email:e,password:t,rememberMe:n})},re=function(){return Q.delete("auth/login")},oe=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(v.a)({},e,{},a):e}))},ie={users:[],pageSize:7,portionSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},se=function(e){return{type:"FOLLOW",userId:e}},ce=function(e){return{type:"UNFOLLOW",userId:e}},le=function(e){return{type:"SET_USERS",users:e}},ue=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},me=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},pe=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},fe=function(){var e=Object(H.a)(K.a.mark((function e(t,n,a,r){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(pe(!0,n)),e.next=3,a(n);case 3:0===e.sent&&t(r(n)),t(pe(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(v.a)({},e,{users:oe(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(v.a)({},e,{users:oe(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(v.a)({},e,{users:t.users});case"SET_CURRENT_PAGE":return Object(v.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(v.a)({},e,{totalUsersCount:t.totalCount});case"TOGGLE_IS_FETCHING":return Object(v.a)({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(v.a)({},e,{followingInProgress:t.isFetching?[].concat(Object(h.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},de=n(66),Ee=n(52),he=n(54),ve=n.n(he),be=n(133),Oe=n.n(be);var we=function(e){for(var t=e.portionSize,n=void 0===t?10:t,o=Object(M.a)(e,["portionSize"]),i=Math.ceil(o.totalItemsCount/o.pageSize),s=[],c=1;c<=i;c++)s.push(c);var l=Math.ceil(i/n),u=Object(a.useState)(1),m=Object(Ee.a)(u,2),p=m[0],f=m[1],g=(p-1)*n+1,d=p*n;return r.a.createElement("div",{className:ve.a.paginator},p>1&&r.a.createElement("button",{onClick:function(){f(p-1)}},"Prev"),r.a.createElement("div",{className:ve.a.pages},s.filter((function(e){return e>=g&&e<=d})).map((function(e){return r.a.createElement("span",{className:Oe()(Object(de.a)({},ve.a.selectedPage,o.currentPage===e),ve.a.pageNumber),onClick:function(){o.onPageChanged(e)}},e)}))),l>p&&r.a.createElement("button",{onClick:function(){f(p+1)}},"Next"))},Ae=n(134),je=n.n(Ae),Ce=n(135),Se=n.n(Ce);var Ie=function(e){var t=e.user,n=e.followingInProgress,a=e.unfollow,o=e.follow;return r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(g.b,{to:"/profile/".concat(t.id)},r.a.createElement("img",{src:null!=t.photos.small?t.photos.small:je.a,className:Se.a.userPhoto,alt:"avatar"}))),r.a.createElement("div",null,t.followed?r.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)}},"Unfollow"):r.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){o(t.id)}},"Follow"))),r.a.createElement("span",null,r.a.createElement("span",null,r.a.createElement("div",null,t.name),r.a.createElement("div",null,t.status),r.a.createElement("br",null)),r.a.createElement("span",null)))};var ke=function(e){return r.a.createElement("div",null,r.a.createElement(we,{totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged}),r.a.createElement("div",null,e.users.map((function(t){return r.a.createElement(Ie,{key:t.id,followingInProgress:e.followingInProgress,follow:e.follow,user:t,unfollow:e.unfollow})}))))},Pe=n(136),Ne=n.n(Pe);var ye=function(e){return r.a.createElement("div",null,r.a.createElement("img",{src:Ne.a}))},Me=n(137),Te=Object(Me.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),Ue=function(e){return e.usersPage.pageSize},Je=function(e){return e.usersPage.totalUsersCount},xe=function(e){return e.usersPage.currentPage},Ge=function(e){return e.usersPage.isFetching},Le=function(e){return e.usersPage.followingInProgress},De=function(e){return e.usersPage.portionSize},Re=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onPageChanged=function(e){n.props.getUsers(e,n.props.pageSize)},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(ye,null):null,r.a.createElement(ke,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress,portionSize:this.props.portionSize}))}}]),t}(r.a.Component),Fe=Object(X.d)(B,Object(Z.b)((function(e){return{users:Te(e),pageSize:Ue(e),portionSize:De(e),totalUsersCount:Je(e),currentPage:xe(e),isFetching:Ge(e),followingInProgress:Le(e)}}),{follow:function(e){return function(){var t=Object(H.a)(K.a.mark((function t(n){var a;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=q.followUser.bind(q),fe(n,e,a,se);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(H.a)(K.a.mark((function t(n){var a;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=q.unfollowUser.bind(q),fe(n,e,a,ce);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setUsers:le,setCurrentPage:ue,getUsers:function(e,t){return function(){var n=Object(H.a)(K.a.mark((function n(a){var r;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(me(!0)),n.next=3,q.getUsers(e,t);case 3:r=n.sent,a(me(!1)),a(le(r.items)),a({type:"SET_TOTAL_USERS_COUNT",totalCount:r.totalCount}),a(ue(e));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(Re),ze=n(51),Ye=n.n(ze);var Ze=function(e){return r.a.createElement("div",{className:Ye.a.contacts},r.a.createElement("div",null,null==e.contacts.twitter?null:r.a.createElement("a",{href:e.contacts.twitter},"Twitter")),r.a.createElement("div",null,null==e.contacts.website?null:r.a.createElement("a",{href:e.contacts.website},"Website")),r.a.createElement("div",null,null==e.contacts.vk?null:r.a.createElement("a",{href:e.contacts.vk},"Vk")),r.a.createElement("div",null,null==e.contacts.facebook?null:r.a.createElement("a",{href:e.contacts.facebook},"Facebook")),r.a.createElement("div",null,null==e.contacts.instagram?null:r.a.createElement("a",{href:e.contacts.instagram},"Instagram")),r.a.createElement("div",null,null==e.contacts.youtube?null:r.a.createElement("a",{href:e.contacts.youtube},"Youtube")),r.a.createElement("div",null,null==e.contacts.github?null:r.a.createElement("a",{href:e.contacts.github},"Github")),r.a.createElement("div",null,null==e.contacts.mainLink?null:r.a.createElement("a",{href:e.contacts.mainLink},"Main Link")))},_e=n.p+"static/media/avatar.8dcccb66.png",Be=n.p+"static/media/ProfileUpperPhoto.791ef81a.jpg";var Xe=function(e){var t=Object(a.useState)(!1),n=Object(Ee.a)(t,2),o=n[0],i=n[1],s=Object(a.useState)(e.status),c=Object(Ee.a)(s,2),l=c[0],u=c[1];return Object(a.useEffect)((function(){u(e.status)}),[e.status]),r.a.createElement("div",null,!o&&r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:function(){i(!0)}},r.a.createElement("b",null,"Status:")," ",e.status||"-----")),o&&r.a.createElement("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){i(!1),e.updateStatus(l)},value:l}),r.a.createElement("div",null,r.a.createElement("b",null,"About me:")," ",e.aboutMe))};var Ve=function(e){return e.profile?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{className:Ye.a.profileUpperPhoto,src:Be})),r.a.createElement("div",null,e.profile.photos.large?r.a.createElement("img",{src:e.profile.photos.large,alt:"avatar"}):r.a.createElement("img",{src:_e,className:Ye.a.avatar})),r.a.createElement("div",null,r.a.createElement(Xe,{aboutMe:e.profile.aboutMe,status:e.status,updateStatus:e.updateStatus}),r.a.createElement(Ze,{contacts:e.profile.contacts}))):r.a.createElement(ye,null)},We={posts:[{id:1,message:"Hello friend",likesCount:"8"},{id:2,message:"Hi, bro. How are you ?",likesCount:"22"}],profile:null,status:""},Ke=function(e){return{type:"SET_STATUS",status:e}},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:5,message:t.newPostText,likesCount:"0"};return Object(v.a)({},e,{posts:[].concat(Object(h.a)(e.posts),[n])});case"SET_USER_PROFILE":return Object(v.a)({},e,{profile:t.profile});case"SET_STATUS":return Object(v.a)({},e,{status:t.status});case"DELETE_POST":return Object(v.a)({},e,{posts:e.posts.filter((function(e){return e.id!=t.postId}))});default:return e}},Qe=n(138),qe=n.n(Qe);var $e=function(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{className:qe.a.image,src:"https://hornews.com/images/news_large/c1d4b2b8ec608ea72764c5678816d5c9.jpg"}),e.message),r.a.createElement("div",null,"likes ",e.likesCount))},et=R(40);var tt=Object(y.a)({form:"ProfileNewPostElementForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(N.a,{name:"newPostText",component:x,validate:[D,et],placeholder:"Write post text.."})),r.a.createElement("div",null,r.a.createElement("button",null,"New post")))})),nt=r.a.memo((function(e){var t=Object(h.a)(e.posts).reverse().map((function(e){return r.a.createElement($e,{message:e.message,likesCount:e.likesCount,key:e.id})}));return r.a.createElement("div",null,r.a.createElement("b",null,"My posts"),r.a.createElement(tt,{onSubmit:function(t){e.addPost(t.newPostText)}}),t)})),at=Object(Z.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",newPostText:e}}(t))}}}))(nt);var rt=function(e){return r.a.createElement("div",null,r.a.createElement(Ve,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),r.a.createElement(at,null))},ot=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"render",value:function(){return r.a.createElement(rt,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),t}(r.a.Component),it=Object(X.d)(Object(Z.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(){var t=Object(H.a)(K.a.mark((function t(n){var a;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$(e);case 2:a=t.sent,n({type:"SET_USER_PROFILE",profile:a.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatus:function(e){return function(){var t=Object(H.a)(K.a.mark((function t(n){var a;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ee(e);case 2:a=t.sent,n(Ke(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(H.a)(K.a.mark((function t(n){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te(e);case 2:0===t.sent.data.resultCode&&n(Ke(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),E.f,B)(ot),st=n(72),ct=n.n(st),lt=n(29),ut="auth-reducer/SET_USER_DATA",mt={id:null,email:null,login:null,isFetching:!0,isAuth:!1},pt=function(e,t,n,a){return{type:ut,data:{id:e,email:t,login:n,isAuth:a}}},ft=function(){return function(){var e=Object(H.a)(K.a.mark((function e(t){var n,a,r,o,i;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(me(!0)),e.next=3,ne();case 3:0===(n=e.sent).data.resultCode&&(t(me(!1)),a=n.data.data,r=a.id,o=a.email,i=a.login,t(pt(r,o,i,!0)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ut:return Object(v.a)({},e,{},t.data);default:return e}};var dt=function(e){return r.a.createElement("div",{className:ct.a.header},r.a.createElement("img",{src:"https://www.sigcomm.org/sites/default/files/logos/sigcomm-dropshadow-spaced.png"}),r.a.createElement("div",{className:ct.a.loginBlock},e.isAuth?r.a.createElement("div",{className:ct.a.login},r.a.createElement("div",null,e.login),r.a.createElement("button",{onClick:e.logoutUser},"Log out")):r.a.createElement(g.b,{to:"/login"},"Login")))},Et=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(dt,this.props)}}]),t}(r.a.Component),ht=Object(Z.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logoutUser:function(){return function(){var e=Object(H.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re();case 2:0===e.sent.data.resultCode&&t(pt(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Et);var vt=Object(y.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return r.a.createElement("form",{onSubmit:t},L("Email","email",G,[D]),L("Password","password",G,[D],{type:"password"}),L(null,"rememberMe",G,null,{type:"checkbox"},"remember me"),n&&r.a.createElement("div",{className:U.a.formSummaryError},n),r.a.createElement("div",null,r.a.createElement("button",null,"Login")))}));var bt=Object(Z.b)((function(e){return{isAuth:e.auth.isAuth}}),{loginUser:function(e,t,n){return function(){var a=Object(H.a)(K.a.mark((function a(r){var o,i;return K.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(me(!0)),a.next=3,ae(e,t,n);case 3:0===(o=a.sent).data.resultCode?(r(ft()),r(me(!1))):(r(me(!1)),i=o.data.messages.length>0?o.data.messages[0]:"Email or password are incorrect",r(Object(lt.a)("login",{_error:i})));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return e.isAuth?r.a.createElement(E.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(vt,{onSubmit:function(t){e.loginUser(t.email,t.password,t.rememberMe)}}))})),Ot={initialized:!1},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(v.a)({},e,{initialized:!0});default:return e}},At={},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;arguments.length>1&&arguments[1];return e},Ct=n(139),St=n(127),It=Object(X.c)({profilePage:He,messagesPage:O,sidebar:jt,usersPage:ge,auth:gt,app:wt,form:St.a}),kt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.d,Pt=Object(X.e)(It,kt(Object(X.a)(Ct.a)));window.__store__=Pt;var Nt=Pt,yt=function(e){return function(t){return r.a.createElement(a.Suspense,{fallback:r.a.createElement(ye,null)},r.a.createElement(e,t))}},Mt=r.a.lazy((function(){return n.e(4).then(n.bind(null,295))})),Tt=r.a.lazy((function(){return n.e(5).then(n.bind(null,296))})),Ut=r.a.lazy((function(){return n.e(3).then(n.bind(null,297))})),Jt=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(ht,null),r.a.createElement(d,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(E.b,{path:"/dialogs",render:function(){return r.a.createElement(V,null)}}),r.a.createElement(E.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(it,null)}}),r.a.createElement(E.b,{path:"/users",render:function(){return r.a.createElement(Fe,null)}}),r.a.createElement(E.b,{path:"/login",render:function(){return r.a.createElement(bt,null)}}),r.a.createElement(E.b,{path:"/news",render:yt(Mt)}),r.a.createElement(E.b,{path:"/settings",render:yt(Tt)}),r.a.createElement(E.b,{path:"/music",render:yt(Ut)}))):r.a.createElement(ye,null)}}]),t}(r.a.Component),xt=Object(X.d)(E.f,Object(Z.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(ft());Promise.all([t]).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}))(Jt),Gt=function(e){return r.a.createElement(Z.a,{store:Nt},r.a.createElement(g.a,null,r.a.createElement(xt,null)))};i.a.render(r.a.createElement(Gt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},49:function(e,t,n){e.exports={formControl:"Inputs_formControl__2G_K4",error:"Inputs_error__3EVo3",formSummaryError:"Inputs_formSummaryError__39H8e"}},51:function(e,t,n){e.exports={profileUpperPhoto:"ProfileInfo_profileUpperPhoto__1BFdX",contacts:"ProfileInfo_contacts__39KxL",avatar:"ProfileInfo_avatar__2Yvji"}},54:function(e,t,n){e.exports={selectedPage:"Paginator_selectedPage__1Ej7v",pageNumber:"Paginator_pageNumber__LBSmG",pages:"Paginator_pages__1xbwx",paginator:"Paginator_paginator__3gkiB"}},69:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__x9siR",dialogsItems:"Dialogs_dialogsItems__1VUM1",messages:"Dialogs_messages__2urcv"}},70:function(e,t,n){e.exports={dialogsItems:"DialogItem_dialogsItems__7MMJZ",active:"DialogItem_active__klfQr",dialog:"DialogItem_dialog__2wbO2",avatar:"DialogItem_avatar__G0W34"}},72:function(e,t,n){e.exports={header:"Header_header__2Jkmk",loginBlock:"Header_loginBlock__-w_SD",login:"Header_login__YziUX"}}},[[165,1,2]]]);
//# sourceMappingURL=main.7bdb4f19.chunk.js.map